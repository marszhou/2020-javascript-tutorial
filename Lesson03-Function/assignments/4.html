<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <script>
    function encode(str) {
      str = str.toString()
      function step1(str) { //每位+5%10
        var ret = '';
        for(var i=0; i<str.length; i++) {
          ret =  ret + ((+str.charAt(i) + 5)%10).toString()
        }
        return ret
      }
      function step2(str) { // 交换
        var a, b, c, d;
        [a, b, c, d] = str;
        [a, d] = [d, a];
        [b, c] = [c, b];
        return a+b+c+d
      }
      return step2(step1(str))
    }
  </script>
</body>
</html>